<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Carme|Julius+Sans+One|Rouge+Script" rel="stylesheet">
    <title>Survey</title>
</head>

<script>
$(function(){
    /*when click the submit button */
    $("#submit").on("click",function(e){
        e.preventDefault();
        /* getting data from form */
        var selected=[];
        for(var i=0;i<$("select").length;i++) {
            selected.push($("#qes"+(i+1)).val());
        }
        var newFriend={
            name:$("#name").val().trim(), 
            photo:$("#photo").val().trim(),
            scores:selected
        };
        /* send request and getting data from server */
        $.post("/api/friends",newFriend).then(function(data) {
            $("#friend-name").text(data.name);
            $("#friend-img").attr("src",data.photo);
            $('#myModal').modal('show');
        });
    });
})
</script>
<body>
    <div class="wrapper">
        <!-- submit form -->
        <section class="container">
            <form>
                <h2>Survey Questions</h2>
                <hr>
                <h4>About You</h4>
                <label for="name">Name</label><br>
                <input type="test" id="name" class="validation"><br>
                <label for="photo">Link to Photo Images</label><br>
                <input type="test" id="photo">
                <hr>
                <h4>Question 1</h4>
                <label for="qes1">You like to dine out.</label><br>
                <select id="qes1">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 2</h4>
                <label for="qes2">You are happy just eating cereal.</label><br>
                <select id="qes2">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 3</h4>
                <label for="qes3">You don't care what others think.</label><br>
                <select id="qes3">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2 </option>
                    <option value="3">3 </option>
                    <option value="4">4 </option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 4</h4>
                <label for="qes4">You are always on time.</label><br>
                <select id="qes4">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 5</h4>
                <label for="qes5">You don't mind getting your hands dirty</label><br>
                <select id="qes5">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 6</h4>
                <label for="qes6">You are charasmatic.</label><br>
                <select id="qes6">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 7</h4>
                <label for="qes7">All of your friends come to you for advice.</label><br>
                <select id="qes7">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 8</h4>
                <label for="qes8">You love to make others happy.</label><br>
                <select id="qes8">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 9</h4>
                <label for="qes9">On Sunday morning you prefer to sleep in.</label><br>
                <select id="qes9">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <h4>Question 10</h4>
                <label for="qes10">You are good with numbers.</label><br>
                <select id="qes10">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Disagree)</option>
                </select><br><br>
                <input id="submit" class="btn btn-primary btn-block" type="submit" value="submit">
            </form>
        </section>
        <!-- modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="ModalLabel">Your Match</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <h2 id="friend-name"></h2>
                        <img id="friend-img" src="" alt="">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
